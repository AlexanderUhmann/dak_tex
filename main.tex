\documentclass[a4paper,12pt, listof=totoc]{scrreprt}
\usepackage[T2A]{fontenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx} % графики
\usepackage{subfigure} % пакет упрощает нескольких рисунков внутри одного плавающего объекта, причемпомимо общей подписи каждый рисунок иожет иметь свою общую
\usepackage{pdfpages}
\usepackage{xcolor}
\usepackage{float}
\usepackage{amsmath} % математические символы
\graphicspath{ {images/} }
\usepackage[utf8]{inputenc}    % кодировка
\usepackage[english,russian]{babel}
\usepackage{varioref}
\usepackage{indentfirst}


%------------------------------ Межстрочный интервал
\usepackage{indentfirst}
\setlength{\parindent}{1.25cm}    % красная строка
\usepackage{setspace}
\onehalfspacing                  % полуторный интервал


%------------------------------------- Колонтитулы
\usepackage{fancybox,fancyhdr}
\renewcommand{\headrulewidth}{0pt} % убрать разделительную линию.
\fancyhf{} % очистка текущих значений

% ----------------Отступы
\usepackage[%textwidth=19cm,
            %textheight=20cm,
            left=2.5cm,
            right=2cm,
            top=2cm,
            bottom=3cm, 
           ]{geometry} % поля
\usepackage{ragged2e}
\usepackage{titlesec}
\titleformat{\chapter}%
  {\normalfont\bfseries\Large\centering} % оформление текста заголовка
   {\MakeUppercase{Глава \thechapter.}}
  {0.5em}
  {\MakeUppercase}

\titlespacing*{\chapter}{0pt}{-1em}{0.5em}
\titleformat{\section}
  {\normalfont\bfseries\large\centering}
  {\thesection}
  {1em}
  {}  
  
\titlespacing*{\section}{0pt}{0.5em}{0.5em}

\titleformat{\subsection}
  {\normalfont\bfseries\normalsize\centering}
  {\thesubsection}
  {1em}
  {}
  
\titlespacing*{\subsection}{0pt}{0.5em}{0.25em}
  
\setlength{\textfloatsep}{5pt plus 1.0pt minus 2.0pt}
\setlength{\floatsep}{5pt plus 5.0pt minus 5.0pt}
\setlength{\intextsep}{5pt plus 5.0pt minus 5.0pt}
\titlespacing*{\paragraph}{0pt}{0pt}{0cm}
\usepackage{indentfirst}
\usepackage{babel}
\usepackage{setspace}
\usepackage[nottoc]{tocbibind}
\usepackage{indentfirst}
\usepackage{graphicx}
\usepackage{indentfirst}


% --- Прочие полезные пакеты ---
\usepackage{tikz}              % для рисунков
\usepackage{fontawesome}       % иконки
\usepackage{cmap}              % корректный поиск в PDF


%-----------------------------Таблицы  
\usepackage{caption} %заголовки плавающих объектов
\usepackage{float}  
\usepackage{placeins}
\usepackage{array, longtable}
\usepackage{booktabs} 
\renewcommand{\thetable}{\thesection.\arabic{table}}   % Формат таблицы секция.номер
\captionsetup[table]{format = plain, font={small}, textfont = normal}
\usepackage{multirow}
\usepackage{colortbl}
\renewcommand{\tabcolsep}{0.2cm}   %% increase table column spacing
\newcommand{\specialcell}[2][c]{%
\begin{tabular}[#1]{@{}c@{}}#2\end{tabular}} % Перенос строки в таблице

%-----------------------------Главы 
\makeatletter
\renewcommand{\@seccntformat}[1]{\csname the#1\endcsname.\;} %Точка после section
\def\sectionsuffix{.}
\makeatother

\usepackage{tocloft}
\makeatletter
\makeatother
\usepackage{hhline}

\renewcommand{\cftchapfont}{\bfseries}
\renewcommand{\cftchapfont}{}
\renewcommand{\cftchappresnum}{Глава }
\renewcommand{\cftchapaftersnum}{.}
\renewcommand{\cftchapnumwidth}{4.5em}
\setlength{\cftbeforetoctitleskip}{-12pt} % отступ перед оглавлением
\setlength{\cftaftertoctitleskip}{10pt} % отступ после оглавления
\addto{\captionsrussian}{%
 \renewcommand{\contentsname}{\Large{\hspace*{6cm}ОГЛАВЛЕНИЕ}}}%

\makeatletter
\renewcommand{\l@section}{\@dottedtocline{1}{0em}{4.5em}} % 0em отступ секции в оглавлении
\renewcommand{\l@subsection}{\@dottedtocline{1}{0em}{4.5em}}
\renewcommand\cftchapdotsep{\cftdotsep} % Добавляем многоточие в главу
\renewcommand\cftchapleader{\cftdotfill{\cftchapdotsep}} % Добавляем многоточие в главу
\makeatother

\titlespacing{\chapter}{60pt}{-30pt}{20pt}
\setlength{\cftbeforetoctitleskip}{-30pt} % отступ перед оглавлением
\setlength{\cftaftertoctitleskip}{30pt} % отступ после оглавления 


\makeatletter % Убрать жирный шрифт номеров страниц в оглавлении
\let\oldl@chapter\l@chapter
\def\l@chapter#1#2{\oldl@chapter{#1}{\normalfont{#2}}}
\makeatother


%---------------------Сокращения----------------------- 
\newcommand*{\BE}{\begin{equation}} %
\newcommand*{\EN}{\end{equation}} %
\newcommand*{\nn}{\nonumber}
\newcommand*{\T}[1]{\text{#1}}
\makeatletter
\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother


%---------------Глубина нумерации глав,секций---------------
\setcounter{secnumdepth}{3}
\usepackage{amsmath}
\counterwithin{equation}{section} % Нумерация формул по секциям
\renewcommand{\theequation}{\thepart\arabic{equation}} % Убрать точку в формуле после part


%---------------Рисунки, графики---------------
\usepackage{caption}
\captionsetup[figure]
{format = plain, 
font = small, 
textfont = normal,
name = Рисунок}


%---------------Рисунки, графики---------------
\usepackage{amsthm}

\theoremstyle{break}
\newtheorem{theorem}{Теорема}
\newtheorem{example}{Пример}[section]
\newtheorem{notice}{Замечание}[section]
\newtheorem{df}{Определение}%[section]
\newtheorem{co}{Комментарий}%[chapter]


% Двоеточие заменили на дефис

\RequirePackage{caption}
\DeclareCaptionLabelSeparator{defis}{ -- }
\captionsetup{justification=centering,labelsep=defis}

\renewcommand{\thefigure}{\thesection.\arabic{figure}}


%-----------------------------------Теоремы, определения, леммы
%\usepackage{theorem}
%\usepackage{amsthm}
%\theoremstyle{break}
%\newtheorem{theorem}{Th}
%\newtheorem{example}{Example}[section]
%\newtheorem{notice}{Замечание}[section]
%\newtheorem{df}{Определение}[section]


%----------------------------Python
\usepackage{listings}
\lstloadlanguages{Python}
\lstset{
  language=Python,
  basicstyle=\ttfamily\small,
  numbers=left,
  numberstyle=\tiny,
  frame=single,
  breaklines=true
}

\usepackage{chngcntr}
\AtBeginDocument{
  \counterwithout{lstlisting}{section}
  \renewcommand{\thelstlisting}{\arabic{lstlisting}}
}
\usepackage{caption}
\DeclareCaptionLabelSeparator{dash}{\space--\space}
\captionsetup[lstlisting]{labelformat=simple,
                                     labelsep=dash
                                     }

\usepackage{color}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{titlesec}

\AtBeginDocument{
\renewcommand\listfigurename{Список иллюстративного материала}
\renewcommand\listtablename{Список таблиц}
\renewcommand\bibname{Список литературы}
\renewcommand\figurename{Рисунок}
\renewcommand\tablename{Таблица}
\renewcommand\chaptername{Глава}
\thispagestyle{empty} }


%----------------------------Библиография
\makeatletter
\renewcommand\@biblabel[1]{#1}
\makeatother

\usepackage[
backend=biber,
style=gost-numeric,
sorting=nyt,
]{biblatex}

\addbibresource{ref.bib}         % ref.bib - файл с библиографией

%-----------------гиперссылки
\usepackage{url}
\usepackage[   
    colorlinks=true,
    citecolor=black,
    anchorcolor=black,
    urlcolor=blue,     
    urlbordercolor={1 1 1},
    pdfauthor={L.Lamport},
    pagebordercolor={1 1 0},
    pdfborder={2 1 2 [6 0]},
    linkcolor=black,
    pdfhighlight=key
]{hyperref}
\captionsetup{figurewithin=none}  % Одноуровневая нумерация графиков
\captionsetup{tablewithin=none}   % Одноуровневая нумерация таблиц

\begin{document}
	\graphicspath{ {./title/}, {./ch1/}, {./ch2/}, {./py/} }
	\includepdf[pages=1]{title/titlepage.pdf} % Загружает только!!!
	\tableofcontents
	\clearpage 
	\setcounter{page}{3}  % Нумерация страниц начинается с 2-х
	\pagestyle{plain} % нумерация вкл. внизу, посередине
	
	%\bibliography{references}
	\hyphenation{confusion}
	
	\include{intro}
	\include{chapter1}
	\include{chapter2}
	\include{chapter3}
	
	\nocite{*}
	\printbibliography
%	\printbibliography[title={Статьи}, keyword=art, resetnumbers=false]
%	\printbibliography[title={Интернет-ресурсы}, keyword=web, resetnumbers=false]
	
	\include{appendix1}

\end{document}
	
	
	
	
	
	
	
	
	